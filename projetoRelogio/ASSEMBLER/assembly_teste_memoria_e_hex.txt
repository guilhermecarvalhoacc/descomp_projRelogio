JSR @INICIA_MEMORIA
NOP

STA R0, @ADDR_COUNTER_SEG_UN
STA R1, @ADDR_COUNTER_SEG_DEZ
STA R2, @ADDR_COUNTER_MIN_UN

STA R2, @ADDR_COUNTER_SEG_UN
STA R2, @ADDR_COUNTER_SEG_DEZ
STA R2, @ADDR_COUNTER_MIN_UN
STA R2, @ADDR_COUNTER_MIN_DEZ
STA R2, @ADDR_COUNTER_HOR_UN
STA R2, @ADDR_COUNTER_HOR_DEZ

STA R1, @DESP_SEG_UN
STA R1, @DESP_SEG_DEZ
STA R1, @DESP_MIN_UN
STA R1, @DESP_MIN_DEZ
STA R1, @DESP_HOR_UN
STA R1, @DESP_HOR_DEZ

%LABEL MAIN_LOOP
JSR @SR_REFRESH_DISPLAY
NOP
JMP @MAIN_LOOP

%LABEL INICIA_MEMORIA
LDI R0, $0
LDI R1, $1
LDI R2, $9

STA R0, @ADDR_COUNTER_SEG_UN    
STA R0, @ADDR_COUNTER_SEG_DEZ   
STA R0, @ADDR_COUNTER_MIN_UN    
STA R0, @ADDR_COUNTER_MIN_DEZ   
STA R0, @ADDR_COUNTER_HOR_UN    
STA R0, @ADDR_COUNTER_HOR_DEZ   

STA R0, @DESP_SEG_UN
STA R0, @DESP_SEG_DEZ
STA R0, @DESP_MIN_UN
STA R0, @DESP_MIN_DEZ
STA R0, @DESP_HOR_UN
STA R0, @DESP_HOR_DEZ

STA R0, @FPGA_RESET
STA R0, @LEDR
RET

%LABEL SR_REFRESH_DISPLAY
LDA R3, @ADDR_COUNTER_SEG_UN     #-- LOAD UNIDADE
STA R3, @HEX0                    #-- ARMAZENA EM HEX0
LDA R3, @ADDR_COUNTER_SEG_DEZ    #-- LOAD DEZENA 
STA R3, @HEX1                    #-- ARMAZENA EM HEX1
LDA R3, @ADDR_COUNTER_MIN_UN     #-- LOAD CENTENA
STA R3, @HEX2                    #-- ARMAZENA EM HEX2
LDA R3, @ADDR_COUNTER_MIN_DEZ    #-- LOAD MILHAR
STA R3, @HEX3                    #-- ARMAZENA EM HEX3
LDA R3, @ADDR_COUNTER_HOR_UN     #-- LOAD DEZ.MILHAR 
STA R3, @HEX4                    #-- ARMAZENA EM HEX4
LDA R3, @ADDR_COUNTER_HOR_DEZ    #-- LOAD CEN.MILHAR 
STA R3, @HEX5                    #-- ARMAZENA EM HEX5
RET




