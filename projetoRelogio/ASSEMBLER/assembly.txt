LDI R1, $1  #Carrega 1 em REG1
STA R1, @HEX0

LDI R2, $2  #Carrega 2 em REG2
STA R2, @HEX1

LDI R3, $6  #Carrega 3 em REG3
STA R3, @HEX2  --Esse R3 tá ficando com sujeira, e não tá limpando no lda (linha 61)

LDI R4, $4  #Carrega 4 em REG4
STA R4, @HEX3

LDI R5, $5  #Carrega 5 em REG5
STA R5, @HEX4

LDI R6, $6  #Carrega 6 em REG6
STA R6, @HEX5



#JSR @SR_INICIALIZACAO
#NOP
#JSR @SR_ATUALIZAR_DISPLAY
#NOP

%LABEL MAIN_LOOP
NOP

JMP @MAIN_LOOP



%LABEL SR_INICIALIZACAO #-- ZERAR VALORES DA MEMORIA (INICIALIZACAO) - DANI
LDI R0, $0                               # Carrega 0 no REG0
LDI R1, $1                               # Carrega 1 no REG1
LDI R2, $9                               # Carrega 9 no acumulador 

-- Inicializar endereços de memória
STA R0, @ADDR_COUNTER_UNIDADE        
STA R0, @ADDR_COUNTER_DEZENA         
STA R0, @ADDR_COUNTER_CENTENA        
STA R0, @ADDR_COUNTER_MILHAR         
STA R0, @ADDR_COUNTER_DEZ_MILHAR     
STA R0, @ADDR_COUNTER_CEN_MILHAR     
STA R0, @ADDR_LIMIT_COUNTER_UNIDADE  
STA R0, @ADDR_LIMIT_COUNTER_DEZENA   
STA R0, @ADDR_LIMIT_COUNTER_CENTENA  
STA R0, @ADDR_LIMIT_COUNTER_MILHAR   
STA R0, @ADDR_LIMIT_COUNTER_DEZ_MILHAR
STA R0, @ADDR_LIMIT_COUNTER_CEN_MILHAR
STA R0, @ADDR_FLAG_OVERFLOW
STA R0, @ADDR_FLAG_INIBICAO
STA R0, @FPGA_RESET
STA R0, @CLEAR_KEY0
STA R0, @CLEAR_KEY1
STA R0, @LEDR
RET


%LABEL SR_ATUALIZAR_DISPLAY  
LDA R3, @ADDR_COUNTER_UNIDADE     #-- LOAD UNIDADE
STA R3, @HEX0                     #-- ARMAZENA EM HEX0
LDA R3, @ADDR_COUNTER_DEZENA      #-- LOAD DEZENA 
STA R3, @HEX1                     #-- ARMAZENA EM HEX1
LDA R3, @ADDR_COUNTER_CENTENA     #-- LOAD CENTENA
STA R3, @HEX2                     #-- ARMAZENA EM HEX2
LDA R3, @ADDR_COUNTER_MILHAR      #-- LOAD MILHAR
STA R3, @HEX3                     #-- ARMAZENA EM HEX3
LDA R3, @ADDR_COUNTER_DEZ_MILHAR  #-- LOAD DEZ.MILHAR 
STA R3, @HEX4                     #-- ARMAZENA EM HEX4
LDA R3, @ADDR_COUNTER_CEN_MILHAR  #-- LOAD CEN.MILHAR 
STA R3, @HEX5                     #-- ARMAZENA EM HEX5
-- ATUALIZA LEDS OVERFLOW, INIBICAO
LDA R3, @ADDR_FLAG_OVERFLOW       #-- LOAD FLAG OVERFLOW
STA R3, @LED_F_OVERFLOW           #-- ARMAZENA NO LED
LDA R3, @ADDR_FLAG_INIBICAO       #-- LOAD FLAG INIBICAO
STA R3, @LED_F_OVERFLOW           #-- ARMAZENA NO LED
RET